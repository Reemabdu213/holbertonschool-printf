#include <unistd.h>
#define BUF_SIZE 1024

int _putchar(char c)
{
    static char buf[BUF_SIZE];
    static int i;

    if (c == -1 || i >= BUF_SIZE)  /* flush buffer */
    {
        if (i > 0)
            write(1, buf, i);
        i = 0;
    }

    if (c != -1)
        buf[i++] = c;

    return 1;
}
