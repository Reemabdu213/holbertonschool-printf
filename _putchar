#include <unistd.h>
#define BUF_SIZE 1024

int _putchar(char c)
{
    static char buffer[BUF_SIZE];
    static int buf_index;

    if (c == -1 || buf_index >= BUF_SIZE)
    {
        if (buf_index > 0)
            write(1, buffer, buf_index);
        buf_index = 0;
    }

    if (c != -1)
        buffer[buf_index++] = c;

    return 1;
}
